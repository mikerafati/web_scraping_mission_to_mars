/*!
 * fancyBox - jQuery Plugin
 * version: 3.0.0 Beta 1 (Tue, 29 Jan 2013)
 * @requires jQuery v1.7 or later
 *
 * Examples at http://fancyapps.com/fancybox/
 * License: www.fancyapps.com/fancybox/#license
 *
 * Copyright 2013 Janis Skarnelis - janis@fancyapps.com
 *
 */
!function(e,t,i,n){"use strict";var s=i(e),o=i(t),r=i("html"),a=i.fancybox=function(){a.open.apply(this,arguments)},l=a.isTouch=t.createTouch!==n||e.ontouchstart!==n,c=function(e){return e&&e.hasOwnProperty&&e instanceof i},d=function(e){return e&&"string"===i.type(e)},u=function(e){return d(e)&&e.indexOf("%")>0},h=function(e,t){var i=parseFloat(e,10)||0;return t&&u(e)&&(i=a.getViewport()[t]/100*i),Math.ceil(i)},p=function(e,t){return h(e,t)+"px"},f=Date.now||function(){return+new Date},g=function(e){var t=d(e)?i(e):e;if(t&&t.length){t.removeClass("fancybox-wrap").stop(!0).trigger("onReset").hide().unbind();try{t.find("iframe").unbind().attr("src",l?"":"//about:blank"),setTimeout(function(){if(t.empty().remove(),a.lock&&!a.coming&&!a.current){var e,n;i(".fancybox-margin").removeClass("fancybox-margin"),e=s.scrollTop(),n=s.scrollLeft(),r.removeClass("fancybox-lock"),a.lock.remove(),a.lock=null,s.scrollTop(e).scrollLeft(n)}},150)}catch(n){}}};i.extend(a,{version:"3.0.0",defaults:{theme:"default",padding:15,margin:[30,55,30,55],loop:!0,arrows:!0,closeBtn:!0,expander:!l,caption:{type:"outside"},overlay:{closeClick:!0,speedIn:0,speedOut:250,showEarly:!0,css:{}},helpers:{},width:800,height:450,minWidth:100,minHeight:100,maxWidth:99999,maxHeight:99999,aspectRatio:!1,fitToView:!0,autoHeight:!0,autoWidth:!0,autoResize:!0,autoCenter:!l,topRatio:.5,leftRatio:.5,openEffect:"elastic",openSpeed:350,openEasing:"easeOutQuad",closeEffect:"elastic",closeSpeed:350,closeEasing:"easeOutQuad",nextEffect:"elastic",nextSpeed:350,nextEasing:"easeOutQuad",prevEffect:"elastic",prevSpeed:350,prevEasing:"easeOutQuad",autoPlay:!1,playSpeed:3e3,onCancel:i.noop,beforeLoad:i.noop,afterLoad:i.noop,beforeShow:i.noop,afterShow:i.noop,beforeClose:i.noop,afterClose:i.noop,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-inner"></div></div>',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency="true"></iframe>',error:'<p class="fancybox-error">{{ERROR}}</p>',closeBtn:'<a title="{{CLOSE}}" class="fancybox-close" href="javascript:;"></a>',next:'<a title="{{NEXT}}" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="{{PREV}}" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},locale:"en",locales:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",EXPAND:"Display actual size",SHRINK:"Fit to the viewport",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow"},de:{CLOSE:"Schliessen",NEXT:"Vorw\xe4rts",PREV:"Zur\xfcck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es sp\xe4ter nochmal.",EXPAND:"",SHRINK:"",PLAY_START:"",PLAY_STOP:""}},index:0,content:null,href:null,wrapCSS:"",modal:!1,locked:!0,preload:3,mouseWheel:!0,scrolling:"auto",scrollOutside:!0},current:null,coming:null,group:[],index:0,isActive:!1,isOpen:!1,isOpened:!1,isMaximized:!1,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,helpers:{},open:function(e,t){e&&!1!==a.close(!0)&&(i.isPlainObject(t)||(t={}),a.opts=i.extend(!0,{},a.defaults,t),a.populate(e),a.group.length&&a._start(a.opts.index))},populate:function(e){var t=[];i.isArray(e)||(e=[e]),i.each(e,function(s,o){var r,u,h,p,f,g=i.extend(!0,{},a.opts);if(i.isPlainObject(o))r=o;else if(d(o))r={href:o};else{if(!(c(o)||"object"===i.type(o)&&o.nodeType))return;u=i(o),r=i(u).get(0),r.href||(r={href:o}),r=i.extend({href:u.data("fancybox-href")||u.attr("href")||r.href,title:u.data("fancybox-title")||u.attr("title")||r.title,type:u.data("fancybox-type"),element:u},u.data("fancybox-options"))}r.type||!r.content&&!r.href||(r.type=r.content?"html":a.guessType(u,r.href)),h=r.type||a.opts.type,("image"===h||"swf"===h)&&(g.autoWidth=g.autoHeight=!1,g.scrolling="visible"),"image"===h&&(g.aspectRatio=!0),"iframe"===h&&(g.autoWidth=!1,g.scrolling=l?"scroll":"visible"),e.length<2&&(g.margin=30),r=i.extend(!0,{},g,r),p=r.margin,f=r.padding,"number"===i.type(p)&&(r.margin=[p,p,p,p]),"number"===i.type(f)&&(r.padding=[f,f,f,f]),r.modal&&i.extend(!0,r,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,overlay:{closeClick:!1}}),r.autoSize!==n&&(r.autoWidth=r.autoHeight=!!r.autoSize),"auto"===r.width&&(r.autoWidth=!0),"auto"===r.height&&(r.autoHeight=!0),t.push(r)}),a.group=a.group.concat(t)},cancel:function(){var e=a.coming;e&&!1!==a.trigger("onCancel")&&(a.hideLoading(),a.ajaxLoad&&a.ajaxLoad.abort(),a.imgPreload&&(a.imgPreload.onload=a.imgPreload.onerror=null),e.wrap&&g(e.wrap),a.ajaxLoad=a.imgPreload=a.coming=null,a.current||a._afterZoomOut(e))},close:function(e){e&&"object"===i.type(e)&&e.preventDefault(),a.cancel(),a.isActive&&!a.coming&&!1!==a.trigger("beforeClose")&&(a.unbind(),a.isClosing=!0,a.lock&&a.lock.css("overflow","hidden"),a.isOpen&&e!==!0?(a.isOpen=a.isOpened=!1,a.transitions.close()):a._afterZoomOut())},prev:function(e){var t=a.current;t&&a.jumpto(t.index-1,d(e)?e:t.direction.prev)},next:function(e){var t=a.current;t&&a.jumpto(t.index+1,d(e)?e:t.direction.next)},jumpto:function(e,t){var i=a.current;a.coming&&a.coming.index===e||(a.cancel(),i.index==e?t=null:t||(t=i.direction[e>i.index?"next":"prev"]),a.direction=t,a._start(e))}}),i.extend(a,{guessType:function(e,t){var i=e&&e.prop("class")?e.prop("class").match(/fancybox\.(\w+)/):0,n=!1;return i?i[1]:(d(t)?t.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$)/i)?n="image":t.match(/\.(swf)((\?|#).*)?$/i)?n="swf":"#"===t.charAt(0)&&(n="inline"):d(e)&&(n="html"),n)},trigger:function(e,t){var n,s=t||a.coming||a.current;if(s){if(i.isFunction(s[e])&&(n=s[e].apply(s,Array.prototype.slice.call(arguments,1))),n===!1||"afterClose"===e&&a.isActive)return!1;s.helpers&&i.each(s.helpers,function(t,n){var o,r=a.helpers[t];n&&r&&i.isFunction(r[e])&&(o=i.extend(!0,{},r.defaults,n),r.opts=o,r[e](o,s))}),i.event.trigger(e)}},reposition:function(e,t){var i,n=t||a.current,s=n&&n.wrap;a.isOpen&&s&&(i=a._getPosition(n),e===!1||e&&"scroll"===e.type?s.stop(!0).animate(i,200).css("overflow","visible"):s.css(i))},update:function(e){var t,n=e&&e.type,s=(f(),a.current);if(s&&a.isOpen){if("scroll"===n){if(a.wrap.outerHeight(!0)>a.getViewport().h)return;return a.didUpdate&&clearTimeout(a.didUpdate),void(a.didUpdate=setTimeout(function(){a.reposition(e),a.didUpdate=null},50))}a.lock&&a.lock.css("overflow","hidden"),a._setDimension(),a.reposition(e),a.lock&&a.lock.css("overflow","auto"),"float"===s.caption.type&&(t=a.getViewport().w-(a.wrap.outerWidth(!0)-a.inner.width()),s.caption.wrap.css("width",t).css("marginLeft",-1*(.5*t-.5*a.inner.width()))),s.expander&&(s.canShrink?i(".fancybox-expand").show().attr("title",s.locales[s.locale].SHRINK):s.canExpand?i(".fancybox-expand").show().attr("title",s.locales[s.locale].EXPAND):i(".fancybox-expand").hide()),a.trigger("onUpdate")}},toggle:function(e){var t=a.current;t&&a.isOpen&&(a.current.fitToView="boolean"===i.type(e)?e:!a.current.fitToView,a.update(!0))},hideLoading:function(){i("#fancybox-loading").remove()},showLoading:function(){var e,t;a.hideLoading(),e=i('<div id="fancybox-loading"></div>').click(a.cancel).appendTo("body"),a.defaults.fixed||(t=a.getViewport(),e.css({position:"absolute",top:.5*t.h+t.y,left:.5*t.w+t.x}))},getViewport:function(){var t;return t=a.lock?{x:a.lock.scrollLeft(),y:a.lock.scrollTop(),w:a.lock[0].clientWidth,h:a.lock[0].clientHeight}:{x:s.scrollLeft(),y:s.scrollTop(),w:l&&e.innerWidth?e.innerWidth:s.width(),h:l&&e.innerHeight?e.innerHeight:s.height()}},unbind:function(){c(a.wrap)&&a.wrap.unbind(".fb"),c(a.inner)&&a.inner.unbind(".fb"),o.unbind(".fb"),s.unbind(".fb")},rebind:function(){var e,t=a.current;a.unbind(),t&&a.isOpen&&(s.bind("orientationchange.fb"+(l?"":" resize.fb")+(t.autoCenter&&!t.locked?" scroll.fb":""),a.update),e=t.keys,e&&o.bind("keydown.fb",function(s){var o=s.which||s.keyCode,r=s.target||s.srcElement;return 27===o&&a.coming?!1:void(s.ctrlKey||s.altKey||s.shiftKey||s.metaKey||r&&(r.type||i(r).is("[contenteditable]"))||i.each(e,function(e,r){return r[o]!==n?(s.preventDefault(),t.group.length>1&&a[e](r[o]),!1):i.inArray(o,r)>-1?(s.preventDefault(),"play"===e?a.slideshow.toggle():a[e](),!1):void 0}))}),a.lastScroll=f(),t.mouseWheel&&a.group.length>1&&a.wrap.bind("DOMMouseScroll.fb mousewheel.fb MozMousePixelScroll.fb",function(e){var t=e.originalEvent,i=t.target||0,n=t.wheelDelta||t.detail||0,s=t.wheelDeltaX||0,o=t.wheelDeltaY||0,r=f();if((!i||!i.style||i.style.overflow&&"hidden"===i.style.overflow||!(i.clientWidth&&i.scrollWidth>i.clientWidth||i.clientHeight&&i.scrollHeight>i.clientHeight))&&!(0===n||a.current&&a.current.canShrink)){if(t.stopPropagation(),a.lastScroll&&r-a.lastScroll<80)return void(a.lastScroll=r);a.lastScroll=r,t.axis&&(t.axis===t.HORIZONTAL_AXIS?s=-1*n:t.axis===t.VERTICAL_AXIS&&(o=-1*n)),0===s?o>0?a.prev("down"):a.next("up"):s>0?a.prev("right"):a.next("left")}}),a.touch.init())},rebuild:function(){var e=a.current;e.wrap.find(".fancybox-nav, .fancybox-close, .fancybox-expand").remove(),e.arrows&&a.group.length>1&&((e.loop||e.index>0)&&i(a._translate(e.tpl.prev)).appendTo(a.inner).bind("click.fb",a.prev),(e.loop||e.index<a.group.length-1)&&i(a._translate(e.tpl.next)).appendTo(a.inner).bind("click.fb",a.next)),e.closeBtn&&i(a._translate(e.tpl.closeBtn)).appendTo(a.wrap).bind("click.fb",a.close),e.expander&&"image"===e.type&&(i('<a title="Expand image" class="fancybox-expand" href="javascript:;"></a>').appendTo(a.inner).bind("click.fb",a.toggle),!e.canShrink&&!e.canExpand)},_start:function(e){var t,n;return a.opts.loop&&(0>e&&(e=a.group.length+e%a.group.length),e%=a.group.length),(t=a.group[e])?(t=i.extend(!0,{},a.opts,t),t.group=a.group,t.index=e,a.coming=t,!1===a.trigger("beforeLoad")?void(a.coming=null):(a.isActive=!0,a._build(),o.bind("keydown.loading",function(e){27===(e.which||e.keyCode)&&(o.unbind(".loading"),e.preventDefault(),a.cancel())}),t.overlay&&t.overlay.showEarly&&a.overlay.open(t.overlay),n=t.type,void("image"===n?a._loadImage():"ajax"===n?a._loadAjax():"iframe"===n?a._loadIframe():"inline"===n?a._loadInline():"html"===n||"swf"===n?a._afterLoad():a._error()))):!1},_build:function(){var e,t,n,l,c=a.coming,d=c.caption.type;c.wrap=e=i('<div class="fancybox-wrap"></div>').appendTo(c.parent||"body").addClass("fancybox-"+c.theme),c.inner=t=i('<div class="fancybox-inner"></div>').appendTo(e),c["outside"===d||"float"===d?"inner":"wrap"].addClass("fancybox-skin fancybox-"+c.theme+"-skin"),c.locked&&c.overlay&&a.defaults.fixed&&(a.lock||(a.lock=i('<div id="fancybox-lock"></div>').appendTo(e.parent())),a.lock.unbind().append(e),c.overlay.closeClick&&a.lock.click(function(e){i(e.target).is(a.lock)&&a.close()}),(o.height()>s.height()||"scroll"===r.css("overflow-y"))&&(i("*:visible").filter(function(){return"fixed"===i(this).css("position")&&!i(this).hasClass("fancybox-overlay")&&"fancybox-lock"!==i(this).attr("id")}).addClass("fancybox-margin"),r.addClass("fancybox-margin")),n=s.scrollTop(),l=s.scrollLeft(),r.addClass("fancybox-lock"),s.scrollTop(n).scrollLeft(l)),a.trigger("onReady")},_error:function(e){a.coming&&(i.extend(a.coming,{type:"html",autoWidth:!0,autoHeight:!0,closeBtn:!0,minWidth:0,minHeight:0,padding:[15,15,15,15],scrolling:"visible",hasError:e,content:a._translate(a.coming.tpl.error)}),a._afterLoad())},_loadImage:function(){var e=a.imgPreload=new Image;e.onload=function(){this.onload=this.onerror=null,i.extend(a.coming,{width:this.width,height:this.height,content:i(this).addClass("fancybox-image")}),a._afterLoad()},e.onerror=function(){this.onload=this.onerror=null,a._error("image")},e.src=a.coming.href,(e.complete!==!0||e.width<1)&&a.showLoading()},_loadAjax:function(){var e,t,n=a.coming,s=n.href;e=s.split(/\s+/,2),s=e.shift(),t=e.shift(),a.showLoading(),a.ajaxLoad=i.ajax(i.extend({},n.ajax,{url:n.href,error:function(e,t){a.coming&&"abort"!==t?a._error("ajax",e):a.hideLoading()},success:function(e,s){"success"===s&&(t&&(e=i("<div>").html(e).find(t)),n.content=e,a._afterLoad())}}))},_loadIframe:function(){var e,t=a.coming;t.content=e=i(t.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",l?"auto":t.iframe.scrolling),t.iframe.preload&&(a.showLoading(),a._setDimension(t),t.wrap.addClass("fancybox-tmp"),e.one("load.fb",function(){t.iframe.preload&&(i(this).data("ready",1),i(this).bind("load.fb",a.update),a._afterLoad())})),e.attr("src",t.href).appendTo(t.inner),t.iframe.preload?1!==e.data("ready")&&a.showLoading():a._afterLoad()},_loadInline:function(){var e=a.coming,t=e.href;e.content=i(d(t)?t.replace(/.*(?=#[^\s]+$)/,""):t),e.content.length?a._afterLoad():a._error()},_preloadImages:function(){var e,t,i=a.group,n=a.current,s=i.length,o=n.preload?Math.min(n.preload,s-1):0;for(t=1;o>=t;t+=1)e=i[(n.index+t)%s],e&&"image"===e.type&&e.href&&((new Image).src=e.href)},_afterLoad:function(){var e=a.coming,t=a.current;return o.unbind(".loading"),e&&a.isActive!==!1&&!1!==a.trigger("afterLoad",e,t)?(i.extend(a,{wrap:e.wrap.addClass("fancybox-type-"+e.type+" fancybox-"+(l?"mobile":"desktop")+" fancybox-"+e.theme+"-"+(l?"mobile":"desktop")+" "+e.wrapCSS),inner:e.inner,current:e,previous:t}),a._prepare(),a.trigger("beforeShow",e,t),a.isOpen=!1,a.coming=null,a._setDimension(),a.hideLoading(),e.overlay&&!a.overlay.el&&a.overlay.open(e.overlay),void a.transitions.open()):(a.hideLoading(),e&&e.wrap&&g(e.wrap),t||a._afterZoomOut(e),void(a.coming=null))},_prepare:function(){var e,t=a.current,n=t.content||"",s=t.wrap,o=t.inner,r=t.margin,l=t.padding,u=t.href,h=t.type,f=(t.scrolling,t.caption),g=t.title,m=f.type,v="fancybox-placeholder",y="fancybox-display";"iframe"!==h&&c(n)&&n.length&&(n.data(v)||n.data(y,n.css("display")).data(v,i('<div class="'+v+'"></div>').insertAfter(n).hide()),n=n.show().detach(),t.wrap.bind("onReset",function(){i(this).find(n).length&&n.css("display",n.data(y)).replaceAll(n.data(v)).data(v,!1).data(y,!1)})),"swf"===h&&(n='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+u+'"></param>',e="",i.each(t.swf,function(t,i){n+='<param name="'+t+'" value="'+i+'"></param>',e+=" "+t+'="'+i+'"'}),n+='<embed src="'+u+'" type="application/x-shockwave-flash" width="100%" height="100%"'+e+"></embed></object>"),c(n)&&n.parent().is(t.inner)||(t.inner.append(n),t.content=t.inner.children(":last")),i.each(["Top","Right","Bottom","Left"],function(e,t){r[e]&&s.css("margin"+t,p(r[e])),l[e]&&(("Bottom"!==t||"outside"!==m)&&s.css("padding"+t,p(l[e])),("outside"===m||"float"===m)&&(o.css("border"+t+"Width",p(l[e])),("Top"===t||"Left"===t)&&o.css("margin"+t,p(-1*l[e]))))}),i.isFunction(g)&&(g=g.call(t.element,t)),d(g)&&""!==i.trim(g)&&(t.caption.wrap=i('<div class="fancybox-title fancybox-title-'+m+'-wrap">'+g+"</div>").appendTo(t["over"===m?"inner":"wrap"]),"float"===m&&t.caption.wrap.width(a.getViewport().w-(a.wrap.outerWidth(!0)-a.inner.width())).wrapInner("<div></div>"))},_setDimension:function(e){var t,i,n,s,o,r,l,d,f,g,m,v,y,w,b,A=a.getViewport(),x=e||a.current,S=x.wrap,E=x.inner,_=x.width,C=x.height,k=x.minWidth,T=x.minHeight,L=x.maxWidth,I=x.maxHeight,M=x.margin,P=x.scrollOutside?x.scrollbarWidth:0,M=x.margin,R=x.padding,j=x.scrolling,N=1;if(j=j.split(","),t=j[0],i=j[1]||t,x.inner.css("overflow-x","yes"===t?"scroll":"no"===t?"hidden":t).css("overflow-y","yes"===i?"scroll":"no"===i?"hidden":i),s=M[1]+M[3]+R[1]+R[3],n=M[0]+M[2]+R[0]+R[2],k=h(u(k)?h(k,"w")-s:k),L=h(u(L)?h(L,"w")-s:L),T=h(u(T)?h(T,"h")-n:T),I=h(u(I)?h(I,"h")-n:I),o=h(u(_)?h(_,"w")-s:_),r=h(u(C)?h(C,"h")-n:C),x.fitToView&&(L=Math.min(L,h("100%","w")-s),I=Math.min(I,h("100%","h")-n)),g=A.w,m=A.h,"iframe"===x.type){if(d=x.content,S.removeClass("fancybox-tmp"),(x.autoWidth||x.autoHeight)&&d&&1===d.data("ready"))try{d[0].contentWindow&&d[0].contentWindow.document.location&&(f=d.contents().find("body"),E.addClass("fancybox-tmp"),E.width(screen.width-s).height(99999),P&&f.css("overflow-x","hidden"),x.autoWidth&&(o=f.outerWidth(!0)),x.autoHeight&&(r=f.outerHeight(!0)),E.removeClass("fancybox-tmp"))}catch(D){}}else(x.autoWidth||x.autoHeight)&&"image"!==x.type&&"swf"!==x.type&&(E.addClass("fancybox-tmp"),E.width(x.autoWidth?"auto":L),E.height(x.autoHeight?"auto":I),x.autoWidth&&(o=E[0].scrollWidth||E.width()),x.autoHeight&&(r=E[0].scrollHeight||E.height()),E.removeClass("fancybox-tmp"));if(_=o,C=r,l=o/r,!x.autoResize)return S.css({width:p(_),height:"auto"}),void E.css({width:p(_),height:p(C)});if(x.aspectRatio?(_>L&&(_=L,C=_/l),C>I&&(C=I,_=C*l),k>_&&(_=k,C=_/l),T>C&&(C=T,_=C*l)):(_=Math.max(k,Math.min(_,L)),x.autoHeight&&"iframe"!==x.type&&(E.width(_),r=C=E[0].scrollHeight),C=Math.max(T,Math.min(C,I))),S.css({width:p(_),height:"auto"}),E.css({width:p(_),height:p(C)}),v=h(S.outerWidth(!0)),y=h(S.outerHeight(!0)),x.fitToView)if(x.aspectRatio)for(;(v>g||y>m)&&_>k&&C>T&&!(N++>30);)C=Math.max(T,Math.min(I,C-10)),_=h(C*l),k>_&&(_=k,C=h(_/l)),_>L&&(_=L,C=h(_/l)),S.css({width:p(_)}),E.css({width:p(_),height:p(C)}),v=h(S.outerWidth(!0)),y=h(S.outerHeight(!0));else _=Math.max(k,Math.min(_,_-(v-g))),C=Math.max(T,Math.min(C,C-(y-m)));P&&"auto"===t&&(C<E[0].scrollHeight||c(x.content)&&x.content[0]&&C<x.content[0].offsetHeight)&&L>_+s+P&&(_+=P),S.css({width:_}),E.css({width:p(_),height:p(C)}),v=h(S.outerWidth(!0)),y=h(S.outerHeight(!0)),w=(v>g||y>m)&&_>k&&C>T,b=(g>v||m>y)&&(x.aspectRatio?L>_&&I>C&&o>_&&r>C:(L>_||I>C)&&(o>_||r>C)),x.canShrink=w,x.canExpand=b,!d&&x.autoHeight&&C>T&&I>C&&!b&&E.height("auto")},_getPosition:function(e){var t=e||a.current,i=t.wrap,n=a.getViewport(),s={},o=n.y,r=n.x;return s={top:p(Math.max(o,o+(n.h-i.outerHeight(!0))*t.topRatio)),left:p(Math.max(r,r+(n.w-i.outerWidth(!0))*t.leftRatio)),width:p(i.width()),height:p(i.height())}},_afterZoomIn:function(){var e=a.current;e&&(a.lock&&a.lock.css("overflow","auto"),a.isOpen=a.isOpened=!0,a.rebuild(),a.rebind(),e.caption&&e.caption.wrap&&e.caption.wrap.show().css({visibility:"visible",opacity:0,left:0}).animate({opacity:1},"fast"),a.update(),a.wrap.css("overflow","visible").addClass("fancybox-open").focus(),a[a.wrap.hasClass("fancybox-skin")?"wrap":"inner"].addClass("fancybox-"+e.theme+"-skin-open"),e.caption&&e.caption.wrap&&e.caption.wrap.show().css("left",0).animate({opacity:1},"fast"),e.margin[2]>0&&i('<div class="fancybox-spacer"></div>').css("height",p(e.margin[2]-2)).appendTo(a.wrap),a.trigger("afterShow"),a._preloadImages(),e.autoPlay&&!a.slideshow.isActive&&a.slideshow.start())},_afterZoomOut:function(e){var t=function(){g(".fancybox-wrap")};a.hideLoading(),e=e||a.current,e&&e.wrap&&e.wrap.hide(),i.extend(a,{group:[],opts:{},coming:null,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,inner:null}),a.trigger("afterClose",e),a.coming||a.current||(e.overlay?a.overlay.close(e.overlay,t):t())},_translate:function(e){var t=a.coming||a.current,i=t.locales[t.locale];return e.replace(/\{\{(\w+)\}\}/g,function(e,t){var s=i[t];return s===n?e:s})}}),a.transitions={_getOrig:function(e){var t=e||a.current,i=t.wrap,n=t.element,o=t.orig,r=a.getViewport(),l={},d=50,u=50;return!o&&n&&n.is(":visible")&&(o=n.find("img:first:visible"),o.length||(o=n)),!o&&t.group[0].element&&(o=t.group[0].element.find("img:visible:first")),c(o)&&o.is(":visible")?(l=o.offset(),o.is("img")&&(d=o.outerWidth(),u=o.outerHeight()),a.lock&&(l.top-=s.scrollTop(),l.left-=s.scrollLeft())):(l.top=r.y+(r.h-u)*t.topRatio,l.left=r.x+(r.w-d)*t.leftRatio),l={top:p(l.top-.5*(i.outerHeight(!0)-i.height())),left:p(l.left-.5*(i.outerWidth(!0)-i.width())),width:p(d),height:p(u)}},_getCenter:function(e){var t=e||a.current,i=t.wrap,n=a.getViewport(),s={},o=n.y,r=n.x;return s={top:p(Math.max(o,o+(n.h-i.outerHeight(!0))*t.topRatio)),left:p(Math.max(r,r+(n.w-i.outerWidth(!0))*t.leftRatio)),width:p(i.width()),height:p(i.height())}},_prepare:function(e,t){var i=e||a.current,n=i.wrap,s=i.inner;n.height(n.height()),s.css({width:100*s.width()/n.width()+"%",height:Math.floor(100*s.height()/n.height()*100)/100+"%"}),t===!0&&n.find(".fancybox-title, .fancybox-spacer, .fancybox-close, .fancybox-nav").remove(),s.css("overflow","hidden")},fade:function(e,t){var n=this._getCenter(e),s={opacity:0};return"open"===t||"changeIn"===t?[i.extend(n,s),{opacity:1}]:[{},s]},drop:function(e,t){var n=i.extend(this._getCenter(e),{opacity:1}),s=i.extend({},n,{opacity:0,top:p(Math.max(a.getViewport().y-e.margin[0],h(n.top)-200))});return"open"===t||"changeIn"===t?[s,n]:[{},s]},elastic:function(e,t){var n,s,o,r=e.wrap,l=e.margin,c=a.getViewport(),d=a.direction,u=this._getCenter(e),p=i.extend({},u),f=i.extend({},u);return"open"===t?p=this._getOrig(e):"close"===t?(p={},f=this._getOrig(e)):d&&(n="up"===d||"down"===d?"top":"left",s="up"===d||"left"===d?200:-200,"changeIn"===t?(o=h(p[n])+s,o="left"===d?Math.min(o,c.x+c.w-l[3]-r.outerWidth()-1):"right"===d?Math.max(o,c.x-l[1]):"up"===d?Math.min(o,c.y+c.h-l[0]-r.outerHeight()-1):Math.max(o,c.y-l[2]),p[n]=o):(o=h(r.css(n))-s,p={},o="left"===d?Math.max(o,c.x-l[3]):"right"===d?Math.min(o,c.x+c.w-l[1]-r.outerWidth()-1):"up"===d?Math.max(o,c.y-l[0]):Math.min(o,c.y+c.h-l[2]-r.outerHeight()-1),f[n]=o)),"open"===t||"changeIn"===t?(p.opacity=0,f.opacity=1):f.opacity=0,[p,f]},open:function(){{var e,t,n,s,o,r=a.current,l=a.previous;a.direction}l&&l.wrap.stop(!0).removeClass("fancybox-opened"),a.isOpened?(e=r.nextEffect,n=r.nextSpeed,s=r.nextEasing,o="changeIn"):(e=r.openEffect,n=r.openSpeed,s=r.openEasing,o="open"),"none"===e?a._afterZoomIn():(t=this[e](r,o),"elastic"===e&&this._prepare(r),r.wrap.css(t[0]),r.wrap.animate(t[1],n,s,a._afterZoomIn)),l&&(a.isOpened&&"none"!==l.prevEffect?(l.wrap.stop(!0).removeClass("fancybox-opened"),t=this[l.prevEffect](l,"changeOut"),this._prepare(l,!0),l.wrap.animate(t[1],l.prevSpeed,l.prevEasing,function(){g(l.wrap)})):g(i(".fancybox-wrap").not(r.wrap)))},close:function(){var e,t=a.current,i=t.wrap.stop(!0).removeClass("fancybox-opened"),n=t.closeEffect;return"none"===n?a._afterZoomOut():(this._prepare(t,!0),e=this[n](t,"close"),void i.addClass("fancybox-animating").animate(e[1],t.closeSpeed,t.closeEasing,a._afterZoomOut))}},a.slideshow={_clear:function(){this._timer&&clearTimeout(this._timer)},_set:function(){this._clear(),a.current&&this.isActive&&(this._timer=setTimeout(a.next,this._speed))},_timer:null,_speed:null,isActive:!1,start:function(e){var t=a.current;t&&(t.loop||t.index<t.group.length-1)&&(this.stop(),this.isActive=!0,this._speed=e||t.playSpeed,o.bind({"beforeLoad.player":i.proxy(this._clear,this),"onUpdate.player":i.proxy(this._set,this),"onCancel.player beforeClose.player":i.proxy(this.stop,this)}),this._set(),a.trigger("onPlayStart"))},stop:function(){this._clear(),o.unbind(".player"),this.isActive=!1,this._timer=this._speed=null,a.trigger("onPlayEnd")},toggle:function(){this.isActive?this.stop():this.start.apply(this,arguments)}},a.overlay={el:null,theme:"",open:function(e){var t,n,o=this,r=this.el,l=a.defaults.fixed;e=i.extend({},a.defaults.overlay,e),r?r.stop(!0).removeAttr("style").unbind(".overlay"):r=i('<div class="fancybox-overlay'+(l?" fancybox-overlay-fixed":"")+'"></div>').appendTo(e.parent||"body"),e.closeClick&&r.bind("click.overlay",function(){return a.lastTouch&&f()-a.lastTouch<300?!1:(a.isActive?a.close():o.close(),!1)}),n=e.theme||(a.coming?a.coming.theme:"default"),n!==this.theme&&r.removeClass("fancybox-"+this.theme+"-overlay"),this.theme=n,r.addClass("fancybox-"+n+"-overlay").css(e.css),t=r.css("opacity"),!this.el&&1>t&&e.speedIn&&r.css({opacity:0,filter:"alpha(opacity=0)"}).fadeTo(e.speedIn,t),this.el=r,l||(s.bind("resize.overlay",i.proxy(this.update,this)),this.update())},close:function(e,t){e=i.extend({},a.defaults.overlay,e),this.el&&this.el.stop(!0).fadeOut(e.speedOut,function(){s.unbind("resize.overlay"),i(".fancybox-overlay").remove(),a.overlay.el=null,i.isFunction(t)&&t()})},update:function(){this.el.css({width:"100%",height:"100%"}),this.el.width(o.width()).height(o.height())}},a.touch={startX:0,wrapX:0,dx:0,isMoving:!1,_start:function(e){var t=(a.current,e.originalEvent.touches?e.originalEvent.touches[0]:e),n=f();if(a.isOpen&&!a.wrap.is(":animated")&&(i(e.target).is(a.inner)||i(e.target).parent().is(a.inner))){if(a.lastTouch&&n-a.lastTouch<300)return e.preventDefault(),a.lastTouch=n,this._cancel(!0),a.toggle(),!1;a.lastTouch=n,a.wrap&&a.wrap.outerWidth()>a.getViewport().w||(e.preventDefault(),t&&a.wrap&&a.wrap.outerWidth()<a.getViewport().w&&(this.startX=t.pageX,this.wrapX=a.wrap.position().left,this.isMoving=!0,a.inner.bind("touchmove.fb",i.proxy(this._move,this)).one("touchend.fb touchcancel.fb",i.proxy(this._cancel,this))))}},_move:function(e){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e,i=this.startX-t.pageX;this.isMoving&&a.isOpen&&(this.dx=i,a.current.wrap.outerWidth(!0)<=s.width()&&(Math.abs(i)>=50?(e.preventDefault(),this.last=0,this._cancel(!0),i>0?a.next("left"):a.prev("right")):Math.abs(i)>3&&(e.preventDefault(),this.last=0,a.wrap.css("left",this.wrapX-i))))},_clear:function(){this.startX=this.wrapX=this.dx=0,this.isMoving=!1},_cancel:function(){a.inner&&a.inner.unbind("touchmove.fb"),a.isOpen&&Math.abs(this.dx)>3&&a.reposition(!1),this._clear()},init:function(){a.inner&&a.touch&&(this._cancel(!0),a.inner.bind("touchstart.fb",i.proxy(this._start,this)))}},i.easing.easeOutQuad||(i.easing.easeOutQuad=function(e,t,i,n,s){return-n*(t/=s)*(t-2)+i}),o.ready(function(){var t,o,l,c;i.scrollbarWidth===n&&(i.scrollbarWidth=function(){var e=i('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),t=e.children(),n=t.innerWidth()-t.height(99).innerWidth();return e.remove(),n}),i.support.fixedPosition===n&&(i.support.fixedPosition=function(){var e=i('<div style="position:fixed;top:20px;padding:0;margin:0;border:0;"></div>').appendTo("body"),t="fixed"===e.css("position")&&(e[0].offsetTop>18&&e[0].offsetTop<22||15===e[0].offsetTop);return e.remove(),t}()),i.extend(a.defaults,{scrollbarWidth:i.scrollbarWidth(),fixed:i.support.fixedPosition,parent:i("body")}),l=s.scrollTop(),c=s.scrollLeft(),t=i(e).width(),r.addClass("fancybox-lock-test"),o=i(e).width(),r.removeClass("fancybox-lock-test"),s.scrollTop(l).scrollLeft(c),a.lockMargin=o-t,i("<style type='text/css'>.fancybox-margin{margin-right:"+a.lockMargin+"px;}</style>").appendTo("head"),i("script[src*='jquery.fancybox.js']").attr("src").match(/autorun/)&&i("a[href$='.jpg'],a[href$='.png'],a[href$='.gif'],.fancybox").attr("data-fancybox-group","gallery").fancybox()}),i.fn.fancybox=function(e){var t=this,n=this.length?this.selector:!1,s=n&&n.indexOf("()")<0&&!(e&&e.live===!1),r=function(o){var r=s?i(n):t,l=i(this).blur(),c=e.groupAttr||"data-fancybox-group",d=l.attr(c),u=this.rel;!d&&u&&"nofollow"!==u&&(c="rel",d=u),d&&(l=r.filter("["+c+'="'+d+'"]'),e.index=l.index(this)),l.length&&(o.preventDefault(),a.open(l.get(),e))};return e=e||{},s?o.undelegate(n,"click.fb-start").delegate(n+":not('.fancybox-close,.fancybox-nav,.fancybox-wrap')","click.fb-start",r):t.unbind("click.fb-start").bind("click.fb-start",r),this}}(window,document,jQuery);